!function(){var e,t,a,n,o,r={namespace:"",pageUpdatedEventName:"page:updated",elements:"img[data-src], img[data-srcset], source[data-srcset], iframe[data-src], video[data-src], [data-lazyload]",rootMargin:"0px",threshold:0,maxFrameCount:10,forceAutoplayVideoPlay:!0},d=[];function i(e){e.removeAttribute(`data-${r.namespace?r.namespace+"-":""}src`),e.removeAttribute(`data-${r.namespace?r.namespace+"-":""}srcset`),e.removeAttribute(`data-${r.namespace?r.namespace+"-":""}lazyload`)}function l(){this.removeEventListener("load",l),i(this)}function c(e){var t=e.getAttribute(`data-${r.namespace?r.namespace+"-":""}srcset`),a=e.getAttribute(`data-${r.namespace?r.namespace+"-":""}src`),n=null!==e.getAttribute(`data-${r.namespace?r.namespace+"-":""}lazyload`);if(t&&(e.setAttribute("srcset",t),window.picturefill&&window.picturefill({elements:[e]})),a&&(e.src=a),n&&(e.setAttribute(`data-${r.namespace?r.namespace+"-":""}lazyloaded`,""),e.removeEventListener("load",l),i(e)),e.autoplay&&e.paused)try{e.load(),e.paused&&r.forceAutoplayVideoPlay&&(e.outerHTML=e.outerHTML)}catch(o){}}function s(e){0===a&&n.disconnect();for(var t=0;t<e.length;t++){var o=e[t];o.intersectionRatio>0&&(a--,n.unobserve(o.target),o.target.addEventListener("load",l,!1),c(o.target))}}function m(){var u,p,v;if("really-old"===o){for(a=d.length,u=0;u<a;u++)d[u]&&(c(d[u]),i(d[u]));d=[]}else if("old"===o){if(t===r.maxFrameCount){for(a=d.length,u=0;u<a;u++)if(d[u]&&void 0===d[u].lazyloaded&&(p=d[u],v=void 0,(v=(p="SOURCE"===p.tagName?p.parentNode:p).getBoundingClientRect()).bottom>0&&v.right>0&&v.left<(window.innerWidth||document.documentElement.clientWidth)&&v.top<(window.innerHeight||document.documentElement.clientHeight))){var f=d[u];d[u]=void 0,f.lazyloaded=!0,f.addEventListener("load",l,!1),c(f)}for(u=0;u<a;u++)void 0===d[u]&&d.splice(u,1);a=d.length,t=-1}a>0&&(t++,e=window.requestAnimationFrame(m))}else if("new"===o)for(n=new IntersectionObserver(s,{rootMargin:r.rootMargin,threshold:r.threshold}),a=d.length,u=0;u<a;u++)d[u]&&void 0===d[u].lazyloaded&&n.observe(d[u])}function u(){if("old"===o)try{cancelAnimationFrame(e)}catch(i){}else if("new"===o)try{n.disconnect()}catch(i){}d=function(e){var t=[],a=0;for(t=[],a=e.length;a;)t[--a]=e[a];return t}(document.querySelectorAll(r.elements)),a=d.length,t=r.maxFrameCount,m()}var p=function(e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);o="addEventListener"in window&&window.requestAnimationFrame&&void 0!==typeof document.body.getBoundingClientRect?"IntersectionObserver"in window?"new":"old":"really-old",u(),r.pageUpdatedEventName&&document.addEventListener(r.pageUpdatedEventName,u,!0)};"undefined"!=typeof exports?module.exports=p:window.lazyload=p}();